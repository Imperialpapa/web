<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        .title {
            font-size: 2rem;
            color: #333;
            margin-bottom: 2rem;
            font-weight: bold;
        }

        .subtitle {
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .lotto-numbers {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .number-ball {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            animation: bounce 0.6s ease;
        }

        .number-ball.range1 { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
        .number-ball.range2 { background: linear-gradient(135deg, #a8edea, #fed6e3); }
        .number-ball.range3 { background: linear-gradient(135deg, #ffecd2, #fcb69f); }
        .number-ball.range4 { background: linear-gradient(135deg, #667eea, #764ba2); }
        .number-ball.range5 { background: linear-gradient(135deg, #f093fb, #f5576c); }

        @keyframes bounce {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }

        .generate-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem 0;
            font-weight: bold;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .statistics {
            margin-top: 2rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stats-title {
            font-weight: bold;
            margin-bottom: 1rem;
            color: #333;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 0.5rem;
        }

        .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }

        .history {
            margin-top: 1.5rem;
            text-align: left;
        }

        .history-title {
            font-weight: bold;
            margin-bottom: 1rem;
            color: #333;
            text-align: center;
        }

        .history-list {
            max-height: 200px;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .history-item {
            background: #f1f3f4;
            padding: 0.5rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-numbers {
            font-weight: bold;
            color: #333;
        }

        .history-time {
            color: #666;
            font-size: 0.8rem;
        }

        .clear-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .clear-btn:hover {
            background: #c82333;
        }

        .bonus-number {
            margin-left: 20px;
            position: relative;
        }

        .bonus-number::before {
            content: '+';
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: #333;
        }

        @media (max-width: 480px) {
            .container {
                padding: 1.5rem;
            }
            
            .title {
                font-size: 1.5rem;
            }
            
            .lotto-numbers {
                gap: 8px;
            }
            
            .number-ball {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ğŸ± ë¡œë˜ ë²ˆí˜¸ ìƒì„±ê¸°</h1>
        <p class="subtitle">í–‰ìš´ì˜ ë²ˆí˜¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”!</p>
        
        <div class="lotto-numbers" id="lottoNumbers">
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball" style="background: #ddd; color: #999;">?</div>
            <div class="number-ball bonus-number" style="background: #ddd; color: #999;">?</div>
        </div>

        <button class="generate-btn" id="generateBtn">ë²ˆí˜¸ ìƒì„±í•˜ê¸°</button>

        <div class="statistics">
            <div class="stats-title">ğŸ“Š í†µê³„</div>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number" id="totalGenerated">0</span>
                    <span class="stat-label">ì´ ìƒì„± íšŸìˆ˜</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="todayGenerated">0</span>
                    <span class="stat-label">ì˜¤ëŠ˜ ìƒì„±</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="avgSum">0</span>
                    <span class="stat-label">í‰ê·  í•©ê³„</span>
                </div>
            </div>
        </div>

        <div class="history">
            <div class="history-title">ğŸ“ ìƒì„± ê¸°ë¡</div>
            <div class="history-list" id="historyList">
                <div style="text-align: center; color: #999; padding: 2rem;">
                    ì•„ì§ ìƒì„±ëœ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.
                </div>
            </div>
            <button class="clear-btn" id="clearBtn">ê¸°ë¡ ì§€ìš°ê¸°</button>
        </div>
    </div>

    <script>
        class LottoGenerator {
            constructor() {
                this.history = JSON.parse(localStorage.getItem('lottoHistory') || '[]');
                this.stats = JSON.parse(localStorage.getItem('lottoStats') || '{"total": 0, "today": 0, "sums": []}');
                this.init();
            }

            init() {
                this.updateStats();
                this.updateHistory();
                
                document.getElementById('generateBtn').addEventListener('click', () => {
                    this.generateNumbers();
                });
                
                document.getElementById('clearBtn').addEventListener('click', () => {
                    this.clearHistory();
                });
            }

            generateNumbers() {
                const numbers = [];
                
                // 1-45 ì‚¬ì´ì˜ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” 6ê°œ ë²ˆí˜¸ ìƒì„±
                while (numbers.length < 6) {
                    const num = Math.floor(Math.random() * 45) + 1;
                    if (!numbers.includes(num)) {
                        numbers.push(num);
                    }
                }
                
                // ë²ˆí˜¸ ì •ë ¬
                numbers.sort((a, b) => a - b);
                
                // ë³´ë„ˆìŠ¤ ë²ˆí˜¸ ìƒì„±
                let bonusNumber;
                do {
                    bonusNumber = Math.floor(Math.random() * 45) + 1;
                } while (numbers.includes(bonusNumber));

                this.displayNumbers([...numbers, bonusNumber]);
                this.saveToHistory(numbers, bonusNumber);
                this.updateStats();
            }

            displayNumbers(allNumbers) {
                const container = document.getElementById('lottoNumbers');
                container.innerHTML = '';

                allNumbers.forEach((num, index) => {
                    setTimeout(() => {
                        const ball = document.createElement('div');
                        ball.className = 'number-ball';
                        ball.textContent = num;
                        
                        if (index === 6) {
                            ball.classList.add('bonus-number');
                        }
                        
                        // ë²ˆí˜¸ ë²”ìœ„ì— ë”°ë¥¸ ìƒ‰ìƒ ì§€ì •
                        if (num <= 10) ball.classList.add('range1');
                        else if (num <= 20) ball.classList.add('range2');
                        else if (num <= 30) ball.classList.add('range3');
                        else if (num <= 40) ball.classList.add('range4');
                        else ball.classList.add('range5');
                        
                        container.appendChild(ball);
                    }, index * 200);
                });
            }

            saveToHistory(numbers, bonus) {
                const entry = {
                    numbers: numbers,
                    bonus: bonus,
                    timestamp: new Date().toLocaleString('ko-KR'),
                    sum: numbers.reduce((a, b) => a + b, 0)
                };
                
                this.history.unshift(entry);
                
                // ìµœëŒ€ 50ê°œ ê¸°ë¡ë§Œ ìœ ì§€
                if (this.history.length > 50) {
                    this.history = this.history.slice(0, 50);
                }
                
                localStorage.setItem('lottoHistory', JSON.stringify(this.history));
                this.updateHistory();
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                this.stats.total++;
                this.stats.sums.push(entry.sum);
                
                // ì˜¤ëŠ˜ ìƒì„± íšŸìˆ˜ ì²´í¬
                const today = new Date().toDateString();
                const lastDate = localStorage.getItem('lastGenerateDate');
                if (lastDate !== today) {
                    this.stats.today = 1;
                    localStorage.setItem('lastGenerateDate', today);
                } else {
                    this.stats.today++;
                }
                
                localStorage.setItem('lottoStats', JSON.stringify(this.stats));
            }

            updateHistory() {
                const container = document.getElementById('historyList');
                
                if (this.history.length === 0) {
                    container.innerHTML = '<div style="text-align: center; color: #999; padding: 2rem;">ì•„ì§ ìƒì„±ëœ ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
                    return;
                }
                
                container.innerHTML = this.history.map(entry => `
                    <div class="history-item">
                        <span class="history-numbers">${entry.numbers.join(', ')} + ${entry.bonus}</span>
                        <span class="history-time">${entry.timestamp}</span>
                    </div>
                `).join('');
            }

            updateStats() {
                document.getElementById('totalGenerated').textContent = this.stats.total;
                
                // ì˜¤ëŠ˜ ìƒì„± íšŸìˆ˜ ì²´í¬
                const today = new Date().toDateString();
                const lastDate = localStorage.getItem('lastGenerateDate');
                if (lastDate !== today) {
                    this.stats.today = 0;
                }
                
                document.getElementById('todayGenerated').textContent = this.stats.today;
                
                // í‰ê·  í•©ê³„ ê³„ì‚°
                const avgSum = this.stats.sums.length > 0 
                    ? Math.round(this.stats.sums.reduce((a, b) => a + b, 0) / this.stats.sums.length)
                    : 0;
                document.getElementById('avgSum').textContent = avgSum;
            }

            clearHistory() {
                if (confirm('ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    this.history = [];
                    this.stats = {total: 0, today: 0, sums: []};
                    localStorage.removeItem('lottoHistory');
                    localStorage.removeItem('lottoStats');
                    localStorage.removeItem('lastGenerateDate');
                    this.updateHistory();
                    this.updateStats();
                }
            }
        }

        // ì•± ì‹œì‘
        new LottoGenerator();
    </script>
</body>
</html>